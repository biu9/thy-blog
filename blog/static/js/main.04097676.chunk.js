(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(31),r=n(22),l=n.n(r),o=n(26),i=n(7),s=n(25),m=n(10),u=n(187),d=n(186),v=n(185);n(89);function p(){return(p=Object(o.a)(l.a.mark(function e(t){var n,a,c,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userName,a=t.passWord,c=JSON.stringify({userName:n,password:a}),e.next=4,fetch("http://localhost:1234/api/login",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:c}).then(function(e){return e.json()});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var E=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),E=Object(i.a)(r,2),h=E[0],f=E[1],g=Object(a.useState)(!1),b=Object(i.a)(g,2),N=b[0],O=b[1],j=Object(m.f)();return a.createElement(a.Fragment,null,a.createElement(u.a,{open:N},a.createElement("div",{className:"modal-container"},a.createElement("div",{className:"modal-words"},"\u8bf7\u5148\u767b\u5f55"),a.createElement(v.a,{className:"modal-input",label:"user name",variant:"filled",onBlur:function(e){c(e.target.value)}}),a.createElement(v.a,{className:"modal-input",label:"password",variant:"filled",onBlur:function(e){f(e.target.value)}}),a.createElement(d.a,{variant:"contained",className:"modal-btn",id:"submitBtn",onClick:function(){O(!1);var e=function(e){return p.apply(this,arguments)}({userName:n,passWord:h});Object(o.a)(l.a.mark(function t(){var n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:200===(n=t.sent).code?(a=n.token,localStorage.setItem("token",JSON.stringify({token:a,time:(new Date).getTime()})),j("/home")):alert("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef");case 4:case"end":return t.stop()}var a},t)}))()}},"submit"))),a.createElement("div",{className:"navbar-container"},a.createElement("div",{className:"navbar-left"},a.createElement(s.b,{to:"/",className:"nav-link"},"thy's blog")),a.createElement("div",{className:"navbar-right"},a.createElement("div",{className:"navbar-right-item",id:"home",onClick:function(){!function(e){var t=localStorage.getItem("token");return!!t&&!(JSON.parse(t).time+e<(new Date).getTime())}(864e5)?O(!0):j("/home")}},"home"),a.createElement("div",{className:"navbar-right-item"},"projects"),a.createElement("div",{className:"navbar-right-item"},a.createElement(s.b,{to:"/blogs",className:"nav-link"},"blogs")),a.createElement("div",{className:"navbar-right-item"},"more"))))};var h=function(){return a.createElement("div",{className:"intro-container"},a.createElement("div",{className:"intro-decroation-circle"}),a.createElement("div",{className:"intro-bg"},a.createElement("div",{className:"intro-left"},a.createElement("div",{className:"intro-pic"}),a.createElement("h3",{className:"intro-name"},"thy"),a.createElement("div",{className:"intro-relate"},"ZJU / EE / \u5927\u4e8c")),a.createElement("div",{className:"intro-right"},a.createElement("h1",{className:"intro-right-title"},"Biography"),a.createElement("div",{className:"intro-right-content"},"\ud83d\udc4b Hi, I'm @biu9,a student studying in ZheJiang university"),a.createElement("div",{className:"intro-right-content"},"\ud83d\udc40 I'm interested in web development"),a.createElement("div",{className:"intro-right-content"},"\ud83c\udf31 I'm currently learning React and TypeScript"),a.createElement("div",{className:"intro-right-content"},"\ud83d\udc9e\ufe0f I'm looking to collaborate on develop a awesome web site"),a.createElement("div",{className:"intro-right-content"},"\ud83d\udceb How to reach me: 1756127061@qq.com"))))};function f(e){return a.createElement("div",{className:"post-container"},a.createElement("div",{className:"post-right"},a.createElement("h2",{className:"post-title"},e.title),a.createElement("p",{className:"post-detail"},"| ",e.time," | ",e.tags," |"),a.createElement("p",{className:"post-content"},e.content)))}var g=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)(function(){Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:1234/api/getPosts",{method:"get"}).then(function(e){return e.json()});case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}},e)}))()},[]),a.createElement("div",{className:"front-content-bg"},a.createElement("div",{className:"front-content-container"},a.createElement("div",{className:"front-content-left"},a.createElement("div",{className:"front-content-left-title"},a.createElement("h1",null,"Recent post"),n.map(function(e){return a.createElement(s.b,{to:"/"+e.id,className:"post-link"},a.createElement(f,{title:e.title,time:e.time,content:e.content,key:e.id,tags:e.tags}))}))),a.createElement("div",{className:"front-content-right"},a.createElement("div",{className:"front-content-right-title"},a.createElement("h2",null)))))};n(94),n(95);function b(){return a.createElement("div",{className:"page-bottom-container"},a.createElement("div",null,"\u524d\u7aef:React+typescript+material UI"),a.createElement("div",null,"\u540e\u7aef:Node.js+express+TencentDB"),a.createElement("div",null,"\u670d\u52a1\u5668:\u817e\u8baf\u4e91\u8f7b\u91cf\u5e94\u7528\u670d\u52a1\u5668+tomcat"),a.createElement("div",null,"@All Rights Reserved 2022"))}var N=function(){return a.createElement("div",{className:"fontpage-container"},a.createElement(E,null),a.createElement(h,null),a.createElement(g,null),a.createElement(b,null))},O=(n(55),n(40)),j=n(41),y=new(function(){function e(){Object(O.a)(this,e),this.eventMap=void 0,this.eventMap={}}return Object(j.a)(e,[{key:"on",value:function(e,t){this.eventMap[e]||(this.eventMap[e]=[]),this.eventMap[e].push(t)}},{key:"emit",value:function(e,t){this.eventMap[e]&&this.eventMap[e].forEach(function(e){e(t)})}}]),e}());var S=function(e){var t=e.blogId,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],l=c[1],o=Object(a.useState)(""),s=Object(i.a)(o,2),m=s[0],u=s[1];return a.createElement("div",{className:"comment-input-container"},a.createElement("div",{className:"comment-input"},a.createElement("div",{className:"comment-header"},a.createElement("div",{className:"comment-header-left"},"\u59d3\u540d:"),a.createElement("input",{className:"comment-header-right",type:"text",placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u540d\u5b57",id:"userName",onChange:function(e){l(e.target.value)}})),a.createElement("div",{className:"comment-body"},a.createElement("div",{className:"comment-body-left"},"\u5185\u5bb9:"),a.createElement("textarea",{className:"comment-body-right",id:"content",onChange:function(e){u(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u8bc4\u8bba"})),a.createElement("div",{className:"submit"},a.createElement("button",{className:"submit-btn",onClick:function(){var e=document.getElementById("userName"),n=document.getElementById("content"),a=(new Date).getTime(),c=JSON.stringify({userName:r,content:m});""!==r&&""!==m?(fetch("http://localhost:1234/api/postComments/?id=".concat(t),{method:"post",headers:{"Content-Type":"application/json;charset=utf-8"},body:c}),e&&(e.value=""),n&&(n.value=""),y.emit("commentInput",a)):alert("\u8bf7\u8f93\u5165\u7528\u6237\u540d\u548c\u8bc4\u8bba\u5185\u5bb9")}},"\u63d0\u4ea4"))))};var w=function(e){return a.createElement("div",{className:"comment-container"},a.createElement("div",{className:"comment-name"},e.name),a.createElement("div",{className:"comment-content"},e.content))};var k=function(e){var t=e.blogId,n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1],m=Object(a.useState)(0),u=Object(i.a)(m,2),d=u[0],v=u[1];return y.on("commentInput",function(e){console.log("list\u7ec4\u4ef6\u63a5\u6536\u5230\u4e86commentInput\u4e8b\u4ef6"),v(e)}),console.log("list\u7ec4\u4ef6\u6e32\u67d3\u4e86"),Object(a.useEffect)(function(){Object(o.a)(l.a.mark(function e(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u8bc4\u8bba","http://localhost:1234/api/getComments/?id=".concat(t)),e.next=3,fetch("http://localhost:1234/api/getComments/?id=".concat(t),{method:"get"}).then(function(e){return e.json()});case 3:n=e.sent,s(n.data);case 5:case"end":return e.stop()}},e)}))()},[d]),a.createElement("div",{className:"comment-list-container"},r.map(function(e){return a.createElement(w,{name:e.name,content:e.content,key:e.id})}))};var I=function(e){var t=e.blogId,n=Object(a.useState)(0),c=Object(i.a)(n,2),r=c[0];return c[1],console.log(r),a.createElement("div",{className:"CommentApp-container"},a.createElement("h1",null,"Comments"),a.createElement("div",{className:"comment-app-input-container"},a.createElement(S,{blogId:t})),a.createElement(k,{blogId:t}))},J=(n(96),n(97));var x=function(e){return a.createElement("div",{className:"blog-container-bg"},a.createElement(E,null),a.createElement("div",{className:"blog-container"},a.createElement("h1",{className:"blog-title"},e.title),a.createElement("p",{className:"blog-detail"},"| ",e.time," | ",e.tags," |"),a.createElement("p",{className:"blog-content"},a.createElement(J,null,e.content))),a.createElement(I,{blogId:e.blogId}),a.createElement(b,null))};var B=function(){return a.createElement("div",null,a.createElement(E,null),a.createElement("h1",null,"ShowBlogs"))};n(150);function C(){var e=Object(m.f)(),t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],l=Object(a.useState)(""),o=Object(i.a)(l,2),s=o[0],u=o[1],p=Object(a.useState)(""),h=Object(i.a)(p,2),f=h[0],g=h[1],b=Object(a.useState)(""),N=Object(i.a)(b,2),O=N[0],j=N[1];return function(e){var t=localStorage.getItem("token");return!!t&&!(JSON.parse(t).time+e<(new Date).getTime())}(864e5)||e("/"),a.createElement("div",{className:"home-container"},a.createElement(E,null),a.createElement("div",{className:"input-container"},a.createElement(v.a,{className:"home-title",label:"\u6807\u9898",variant:"filled",onBlur:function(e){r(e.target.value)}}),a.createElement(v.a,{className:"home-time",label:"\u65f6\u95f4",variant:"filled",onBlur:function(e){u(e.target.value)}}),a.createElement(v.a,{className:"home-tag",label:"\u6807\u7b7e",variant:"filled",onBlur:function(e){j(e.target.value)}}),a.createElement("textarea",{className:"home-content",placeholder:"\u5185\u5bb9",onBlur:function(e){g(e.target.value)}}),a.createElement(d.a,{className:"home-submit",variant:"contained",onClick:function(){var e=JSON.stringify({title:c,time:s,content:f,tag:O});fetch("http://localhost:1234/api/uploadBlog",{method:"post",headers:{"Content-Type":"application/json;charset=utf-8"},body:e}),console.log(e),alert("\u4e0a\u4f20\u6210\u529f"),g(""),r(""),u(""),j("")}},"\u63d0\u4ea4")))}var T=function(){var e=new Array,t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)(function(){Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:1234/api/getPosts",{method:"get"}).then(function(e){return e.json()});case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}},e)}))()},[]),c.map(function(t){e.push(JSON.stringify({path:"/"+t.id,title:t.title,time:t.time,content:t.content,tags:t.tags,id:t.id}))}),a.createElement(s.a,null,a.createElement(m.c,null,a.createElement(m.a,{path:"/",element:a.createElement(N,null)}),a.createElement(m.a,{path:"/blogs",element:a.createElement(B,null)}),a.createElement(m.a,{path:"/home",element:a.createElement(C,null)}),e.map(function(e){return a.createElement(m.a,{path:JSON.parse(e).path,element:a.createElement(x,{title:JSON.parse(e).title,time:JSON.parse(e).time,content:JSON.parse(e).content,tags:JSON.parse(e).tags,key:JSON.parse(e).id,blogId:JSON.parse(e).id})})})))};c.render(a.createElement(T,null),document.getElementById("root"))},55:function(e,t,n){},79:function(e,t,n){e.exports=n(151)},89:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){}},[[79,1,2]]]);
//# sourceMappingURL=main.04097676.chunk.js.map